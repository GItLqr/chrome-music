<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>音乐电台选项</title>
<style>
body{background:#EBEFF9}
ul,li{list-style-type:none;padding:0;margin:0;line-height:30px;}
.optionContainer{
	border-radius:5px;
	width:600px;
	margin:auto;
	-webkit-box-shadow:0px 0px 10px #ccc;
	background:#fff;
	padding:20px;
	padding-bottom:30px;
	margin-top:20px;
}
h1{
	padding:0;margin:0;
	background:url(images/icon48.png) no-repeat;
	padding-left:55px;
	height:48px;
	line-height:48px;
	color:#4C88BC;
	
}
.optionContainer li{
	float:left;
	width:33.3333%;
}
.clearfix:after{content:'\20';display:block;height:0;clear:both}
.clearfix{zoom:1}
button{
	padding:8px 20px;font-size:16px;
}
</style>
</head>
<body>
<div class="optionContainer">
<h1>设置要收听的音乐电台&nbsp;<a href="http://goo.gl/w3Rds" target="_blank" style="color:blue;font-size:14px;font-weight:normal;margin-left:35px;">问题反馈</a></h1>
<ul class="clearfix" style="margin-top:40px;">
	<li title="ting!是百度推出的全新社交音乐媒体（ting.baidu.com），全正版音乐资源、简单流畅的听歌体验、懂你的音乐推荐、炙手可热的音乐人、志同道合的音乐知己，尽在全新的社交音乐媒体ting!，乐在其中。"><label><input name="music" value="ting" type="radio">百度ting!</label></li>
	<li title="豆瓣FM是基于算法推荐的网络音乐播放产品。它基于豆瓣庞大的用户数据，通过判断用户在播放时的操作行为，为用户推荐他可能感兴趣的曲目。 不同于传统移动音乐播放器，豆瓣FM的特点在于：不用设置播放列表，打开就能播放音乐；可以为用户提供高度个性化内容。每个人的豆瓣FM播放内容都是基于其历史播放行为而推荐。"><label><input name="music" value="douban" type="radio">豆瓣电台</label></li>
	<li title="酷狗电台是基于酷狗音乐平台海量的音乐资源以及各类超红榜单所开发的一个超易用网页音乐电台服务。在这里，酷狗的各个精彩音乐榜单为您带来前所未有的丰富音乐收听感受。高质量的音质让您重新感受音乐的魅力。"><label><input name="music" value="kugou" type="radio">酷狗电台</label></li>
	<li title="如果只有一种模模糊糊的倾向，我要听什么歌？不是所有人都知道自己要听什么，当你只钟爱某个歌手、想回到某个年代、只想听某种风格、只想听某种情绪……的时候，请打开虾米电台！"><label><input name="music" value="xiami" type="radio">虾米电台</label></li>
	<li title="酷我电台为广大互联网用户提供高音质正版音乐服务，一点即播，无需等待。不知道听什么歌？想找好听的歌曲？还在为找歌烦恼？请打开酷我电台，所有问题迎刃而解，不但可以播放好听的歌曲，还可以根据用户在播放时的操作，推荐您喜欢的个性化曲目。"><label><input name="music" value="kuwo" type="radio">酷我电台</label></li>
	<li title="乐库电台是新浪音乐团队为你量身打造的智能音乐播放应用。我们诚意献上众多公共频率，圣诞节，新歌，怀旧，晚安，十二星座……乐库电台，开拓你的私人音乐领域！"><label><input name="music" value="leku" type="radio">乐酷电台</label></li>
	<li title="多米音乐（DuoMi）聚合互联网上数百万高品质的音乐资源，致力于带给亿万网民以最高质量的音乐享受。让高保真的音质与优美的画面与您爱音乐的心灵共舞。"><label><input name="music" value="duomi" type="radio">多米音乐</label></li>
	<li title="音悦TV是音悦台（www.yinyuetai.com）提供的高清视频电台应用。用户只需要像看电视一样选择自己感兴趣的音乐频道系统就会自动为用户连续不断播放相关的MV视频内容"><label><input name="music" value="yinyue" type="radio">音悦TV</label></li>
	<li title="亦歌是一款令人耳目一新的在线音乐播放器，提供简单、快捷、实用的音乐播放服务。如果您有一边在电脑上工作、娱乐一边听听音乐的习惯，亦歌希望成为您首选的音乐播放器。"><label><input name="music" value="yige" type="radio">亦歌电台</label></li>
	<li title="人人电台是人人网（RenRen.com）推出的音乐电台产品，拥有多种公共电台和私人电台，人人电台会根据您的喜好为您推荐您想听的好音乐，再加上您对音乐的喜好反馈，推荐将会越来越准！"><label><input name="music" value="renren" type="radio">人人电台</label></li>
	<li title="一首歌电台为您推荐好听，有惊喜的音乐。是您工作时，躺在沙发上，随意听听的音乐电台。"><label><input name="music" value="yishouge" type="radio">一首歌电台</label></li>
	<li title="百度mp3音乐盒"><label><input name="music" value="zhangmen" type="radio">百度音乐盒</label></li>
	<li title="搜狗音乐盒"><label><input name="music" value="sougou" type="radio">搜狗音乐盒</label></li>
	<li title="Google音乐盒"><label><input name="music" value="google" type="radio">Google音乐盒</label></li>
	<li title="每次是随机选择一个电台听歌"><label style="color:red;"><input name="music" value="random" type="radio">随机听取</label></li>
</ul>
<div style="margin-top:20px;text-align:center;"><button onclick="save()">保存</button></div>
</div>
<script>
var storageName = 'chrome_music_name';
var selectMusic = localStorage.getItem(storageName);
if(!selectMusic) selectMusic = 'random';
var lis = [].slice.call(document.querySelectorAll('ul>li input'));
lis.forEach(function(item, i){
	if(item.value === selectMusic){
		item.checked = true;
	}
})
function save(){
	lis.forEach(function(item){
		if(item.checked){
			localStorage.setItem(storageName, item.value);
			chrome.extension.sendRequest({from:'options'}, function(response) {
				window.open('', '_self', ''); //chrome下通过这种方式可以关闭不能关闭的窗口
				window.close();
			});
		}
	})
}
</script>
</body>
</html>